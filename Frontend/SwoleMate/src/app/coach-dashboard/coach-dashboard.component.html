<div class="container">
  <div class="row">
    <div class="col-2 bg-sidenav">
      <nav class="navbar-vertical show">
        <p>
          <button type="button" class="btn btn-outline-primary" (click)="isCollapsed = !isCollapsed"
            [attr.aria-expanded]="!isCollapsed" aria-controls="collapseExample">
            options
          </button>
        </p>
        <div class="" id="collapseExample" [ngbCollapse]="!isCollapsed">
          <div class="bg-white card">
            <div class="card-body">
              <p><a routerLink="edit-profile"> Edit Profile</a></p>
            </div>
          </div>
        </div>
      </nav>
    </div>
    <div class="col-4 bg-spot border-dark " style="width: 20rem;">
      <img
        class="card-img-top"
        src="https://images.unsplash.com/photo-1563685759732-3b118f9445c3?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1350&q=80"

        alt="Card image cap"/>

    </div>
    <div class="col-5 bg-spot border-dark">
      <h3 class="card-title" id="userName">Welcome {{currentUser.name}}</h3>
      <h5 class="card-text">{{currentUser.email}}</h5>
      <h2>Athletes</h2>
      <ngb-accordion [closeOthers]="true">
        <ngb-panel *ngFor="let athlete of athletes; let i= index" title="{{athlete.name}}" id="panel-{{i}}">
          <ng-template ngbPanelContent>
            <button (click)="getProgram(athlete.athleteId)">current program</button>
            <button (click)="createProgram(athlete.athleteId)" [routerLink]="[{ outlets: { popup: '/program' }}]">add new program</button>
            <button class="alert-danger" (click)="deleteAthlete(athlete.athleteId)">drop athlete</button>

          </ng-template>
        </ngb-panel>
      </ngb-accordion>
    </div>
  </div>
</div>
<hr/>
<div *ngFor="let program of programs">
  <table class="stats-bar table table-striped">
    <thead>
      <tr>
        <th scope="col">name</th>
        <th scope="col">sets</th>
        <th scope="col">reps</th>
        <th scope="col">load</th>
        <th scope="col">coach notes</th>
        <th scope="col">athlete notes</th>
        <th scope="col">day</th>
        <th scope="col">video</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let exercise of program.programExercises; let i = index">
        <td>

          <input type="text" value="{{program.programExercises[i].name}}" [(ngModel)]="program.Exercises[i].name">
        </td>
        <td>
          <input type="number" value="{{program.programExercises[i].sets}}" [(ngModel)]="program.Exercises[i].sets">
        </td>
        <td>
          <input type="number" value="{{program.programExercises[i].reps}}" [(ngModel)]="program.Exercises[i].reps">
        </td>
        <td>
          <input type="text" value="{{program.programExercises[i].load}}" [(ngModel)]="program.Exercises[i].load">
        </td>
        <td>
          <input type="text" value="{{program.programExercises[i].coachNotes}}" [(ngModel)]="program.Exercises[i].coachNotes">
        </td>
        <td>
          <input type="number" value="{{program.programExercises[i].day}}" [(ngModel)]="program.Exercises[i].day">
        </td>
        <td>
          {{program.programExercises[i].athleteNotes}}
        </td>
        <td>
          <a href="{{program.programExercises[i].exerciseUrl}}">video link</a>

        </td>
      </tr>
    </tbody>
  </table>

  <button class="alert-heading" (click)="updateProgram(program)">update program</button>
</div>
<app-exercise-form></app-exercise-form>
<router-outlet name="popup"></router-outlet>
<br><br><br><br><br><br><br><br><br><br><br><br>
